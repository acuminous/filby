-- add enum {{escapeIdentifier name}}
DO $$
BEGIN
  BEGIN
    CREATE TYPE {{escapeIdentifier name}} AS ENUM (
      {{#values}}
      {{escapeLiteral this}}{{#unless @last}},{{/unless}}
      {{/values}}
    );
  EXCEPTION
    WHEN duplicate_object
    THEN RAISE EXCEPTION 'Enum '{{escapeLiteral name}}' already exists';
  END;
END;
$$ LANGUAGE plpgsql;